<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Rapid Funcționalități</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container" style="padding: 20px;">
        <h1>🧪 Test Rapid Funcționalități</h1>
        
        <div style="background: white; padding: 20px; margin: 20px 0; border-radius: 8px;">
            <h2>Test 1: Butoane Adaugă</h2>
            <button class="btn btn-primary" id="add-team-btn">+ Adaugă Echipă</button>
            <button class="btn btn-primary" id="add-player-btn">+ Adaugă Jucător</button>
            <button class="btn btn-primary" id="add-match-btn">+ Adaugă Meci</button>
            <p id="test1-result" style="margin-top: 10px;"></p>
        </div>

        <div style="background: white; padding: 20px; margin: 20px 0; border-radius: 8px;">
            <h2>Test 2: Butoane Grupe</h2>
            <button class="btn btn-primary" id="generate-groups-btn">🔄 Generează Grupe</button>
            <button class="btn btn-secondary" id="edit-groups-btn">✏️ Editează Grupe</button>
            <button class="btn btn-danger" id="clear-groups-btn">🗑️ Șterge Grupe</button>
            <p id="test2-result" style="margin-top: 10px;"></p>
        </div>

        <div style="background: white; padding: 20px; margin: 20px 0; border-radius: 8px;">
            <h2>Test 3: Funcții Onclick</h2>
            <button class="btn btn-primary" onclick="testFunction('editTeam')">Test editTeam</button>
            <button class="btn btn-primary" onclick="testFunction('deleteTeam')">Test deleteTeam</button>
            <button class="btn btn-primary" onclick="testFunction('editPlayer')">Test editPlayer</button>
            <button class="btn btn-primary" onclick="testFunction('deletePlayer')">Test deletePlayer</button>
            <button class="btn btn-primary" onclick="testFunction('editMatch')">Test editMatch</button>
            <button class="btn btn-primary" onclick="testFunction('deleteMatch')">Test deleteMatch</button>
            <p id="test3-result" style="margin-top: 10px;"></p>
        </div>

        <div style="background: white; padding: 20px; margin: 20px 0; border-radius: 8px;">
            <h2>Test 4: Verificare Inițializare</h2>
            <button class="btn btn-primary" onclick="checkInit()">Verifică Inițializare</button>
            <pre id="test4-result" style="margin-top: 10px; background: #f5f5f5; padding: 10px;"></pre>
        </div>
    </div>

    <!-- Modale necesare -->
    <div id="team-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3 id="team-modal-title">Test Modal Echipă</h3>
            <form id="team-form">
                <input type="text" id="team-name">
                <input type="text" id="team-logo">
                <input type="text" id="team-city">
                <input type="text" id="team-coach">
                <button type="submit">Submit</button>
                <button type="button" id="cancel-team">Cancel</button>
            </form>
        </div>
    </div>

    <div id="player-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3 id="player-modal-title">Test Modal Jucător</h3>
            <form id="player-form">
                <input type="text" id="player-name">
                <select id="player-team"></select>
                <input type="number" id="player-number">
                <select id="player-position">
                    <option value="goalkeeper">Portar</option>
                </select>
                <button type="submit">Submit</button>
                <button type="button" id="cancel-player">Cancel</button>
            </form>
        </div>
    </div>

    <div id="match-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Test Modal Meci</h3>
            <form id="match-form">
                <select id="match-team1"></select>
                <select id="match-team2"></select>
                <input type="datetime-local" id="match-date">
                <select id="match-stage">
                    <option value="group">Grupe</option>
                </select>
                <input type="text" id="match-location">
                <button type="submit">Submit</button>
                <button type="button" id="cancel-match">Cancel</button>
            </form>
        </div>
    </div>

    <div id="edit-groups-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Test Modal Grupe</h3>
            <div id="edit-groups-container"></div>
            <button id="save-groups-edit">Save</button>
            <button id="cancel-groups-edit">Cancel</button>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        function testFunction(funcName) {
            const result = document.getElementById('test3-result');
            if (typeof tournament === 'undefined') {
                result.innerHTML = '❌ tournament nu este definit!';
                result.style.color = 'red';
                return;
            }
            
            if (typeof tournament[funcName] !== 'function') {
                result.innerHTML = `❌ tournament.${funcName} nu este o funcție!`;
                result.style.color = 'red';
                return;
            }
            
            result.innerHTML = `✅ tournament.${funcName} există și este funcție!`;
            result.style.color = 'green';
        }

        function checkInit() {
            const result = document.getElementById('test4-result');
            const info = {
                'tournament definit': typeof tournament !== 'undefined',
                'tournament.teams': tournament?.teams?.length ?? 'N/A',
                'tournament.players': tournament?.players?.length ?? 'N/A',
                'tournament.matches': tournament?.matches?.length ?? 'N/A',
                'Funcții disponibile': []
            };

            if (tournament) {
                const functions = ['editTeam', 'deleteTeam', 'editPlayer', 'deletePlayer', 
                                 'editMatch', 'deleteMatch', 'updateMatchScore', 'editMatchScore'];
                functions.forEach(fn => {
                    if (typeof tournament[fn] === 'function') {
                        info['Funcții disponibile'].push(fn);
                    }
                });
            }

            result.textContent = JSON.stringify(info, null, 2);
        }

        // Test event listeners
        setTimeout(() => {
            const test1 = document.getElementById('test1-result');
            const btns = ['add-team-btn', 'add-player-btn', 'add-match-btn'];
            const found = btns.filter(id => document.getElementById(id) !== null);
            test1.innerHTML = `✅ Găsite ${found.length}/${btns.length} butoane`;
            test1.style.color = found.length === btns.length ? 'green' : 'orange';

            const test2 = document.getElementById('test2-result');
            const grpBtns = ['generate-groups-btn', 'edit-groups-btn', 'clear-groups-btn'];
            const foundGrp = grpBtns.filter(id => document.getElementById(id) !== null);
            test2.innerHTML = `✅ Găsite ${foundGrp.length}/${grpBtns.length} butoane grupe`;
            test2.style.color = foundGrp.length === grpBtns.length ? 'green' : 'orange';
        }, 100);
    </script>
</body>
</html>
